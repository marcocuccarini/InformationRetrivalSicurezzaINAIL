<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Autochat Bot</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/flowbite/1.6.5/flowbite.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/1.6.5/flowbite.min.js"></script>
</head>

<body>
    <nav class="bg-white border-gray-200 dark:bg-gray-900 p-4">
        <h2 class="text-2xl font-semibold">Assistenza Clienti</h2>
    </nav>
    
    <div class="container mx-auto p-4">
        <label for="mode">Seleziona Modalit√†:</label>
        <select id="mode" class="border p-2 rounded">
            <option value="domande">Domande</option>
            <option value="questionario">Questionario</option>
        </select>

        <div class="mt-4">
            <textarea id="userinput" class="border p-2 w-full" placeholder="Your message..."></textarea>
            <button onclick="sendMessage()" class="bg-blue-500 text-white p-2 rounded mt-2">Invia</button>
        </div>
    </div>
    
    <script>
        async function sendMessage() {
            let userinput = document.getElementById('userinput').value;
            let mode = document.getElementById('mode').value;
            
            const response = await fetch("http://127.0.0.1:5000/data", {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ data: userinput, mode: mode })
            });
            
            let json = await response.json();
            alert("Risposta: " + json.message);
        }
    </script>
</body>

</html>
